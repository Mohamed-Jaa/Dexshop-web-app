{% extends 'main.html' %}

{% block content %}

{% if product %}
<div class="pro-product-page">
    
    <div class="container">
        <div class="breadcrumb">
            <a href="{{ url_for('main') }}">Home</a> / 
            <a href="{{ url_for('index', page=1) }}">Products</a> / 
            <span class="current">{{ product.name }}</span>
        </div>
    </div>

    <div class="container main-grid">
        
        <div class="visual-column">
            <div class="image-wrapper">
                <img src="{{ product.image_url }}" alt="{{ product.name }}" id="mainImage">
                <div class="glow-effect"></div> </div>
        </div>

        <div class="info-column">
            
            <div class="product-header">
                <span class="badge {{ product.condition|lower }}">{{ product.condition }}</span>
                <h1>{{ product.name }}</h1>
            </div>

            <div class="product-price">
                <span class="currency">$</span>
                <span class="amount">{{ product.price_usd | replace(' USD', '') }}</span>
                <span class="unit">USD</span>
            </div>

            <p class="short-desc">{{ product.description }}</p>

            <div class="action-buttons">
                <button class="add-to-cart-btn" 
                    onclick="addToCart(this)" 
                    data-id="{{ product.id }}" 
                    data-name="{{ product.name }}" 
                    data-price="{{ product.price_usd }}" 
                    data-image="{{ product.image_url }}"
                    class="btn-buy-pulse">
                    Add to Cart & Checkout 
                    <i class="bi bi-cart-plus"></i>
                </button>
            </div>

            <div class="tech-specs-container">
                <h3 class="specs-title">Technical Highlights</h3>
                <div class="specs-grid">
                    <div class="spec-item">
                        <i class="bi bi-cpu"></i>
                        <div>
                            <strong>{{ product.spec_title_1 }}</strong>
                            <span>{{ product.specification_1 }}</span>
                        </div>
                    </div>
                    <div class="spec-item">
                        <i class="bi bi-gpu-card"></i>
                        <div>
                            <strong>{{ product.spec_title_2 }}</strong>
                            <span>{{ product.specification_2 }}</span>
                        </div>
                    </div>
                    <div class="spec-item">
                        <i class="bi bi-memory"></i>
                        <div>
                            <strong>{{ product.spec_title_3 }}</strong>
                            <span>{{ product.specification_3 }}</span>
                        </div>
                    </div>
                    <div class="spec-item">
                        <i class="bi bi-display"></i>
                        <div>
                            <strong>{{ product.spec_title_4 }}</strong>
                            <span>{{ product.specification_4 }}</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="related-section container">
        <h2 class="related-title">You Might Also Like</h2>
        <div class="container-pc">
            {% for item in related_products %}
            <div class="product-card">
                <img src="{{ item.image_url }}" alt="{{ item.name }}">
                <h3>{{ item.name }}</h3>
                <p class="price">{{ item.price_usd }}</p>
                <a href="{{ url_for('product', product_id=item.id) }}">View</a>
            </div>
            {% endfor %}
        </div>
    </div>

</div>

{% else %}
<div class="container error-container">
    <h2>Product Not Found</h2>
    <a href="{{ url_for('index', page=1) }}" class="btn-primary">Back to Store</a>
</div>
{% endif %}

{% endblock %}